# 第1章 基本设计原则

系统掌控能力，就是对需求的把控程度，能够通过代码层面的设计以及规范来保证系统架构不被一些新人破坏，保证无论参与开发的人员水平如何、对应的需求有多复杂，都能让整体风险可控，且不同模块以及不同开发人员互不影响，都能让系统可维护、可复用、可扩展，并具有足够的灵活性

## 1 单一职责原则（SRP）

- 定义：Single Responsibility Principle，一个类被改变的原因不能超过一个。
- 好处：提高类的可维护性和可读性、提高系统的可维护性、降低变更的风险
- 确定单一职责的度：
    1. 核心功能或者主流程框架：通过职责的分散把不可预见的变更尽可能分散到其他职责中，以尽可能保证主流程的稳定性，主流程负责框架性的组装与职责类的整合。
    2. 复杂的逻辑：通过单一职责拆解降低某个类的整体变更率
    3. 可预见的变更或者升级
    
## 2 开闭原则（OCP）

- 定义：Open Closed Principle，一个软件实体，如类、模块和函数，应该对扩展开放，对修改关闭。
- 遵循开闭原则的原因：提高复用性、提高维护性、面向对象开发的要求
- 使用方式：利用接口的多态性来屏蔽多种实现的细节，以达到主要部分的稳定性

## 3 依赖倒置原则（DIP）

- 定义：Dependence Inversion Principle，设计代码结构时，高层模块不依赖低层模块，低层模块也不依赖高层模块，二者通过抽象层解耦。
- 好处：免于开发人员困在细节中，提供系统的可移植性

## 4 里氏替换原则（LSP）

- 定义：Liskov Substitution Principle，所有引用基类的地方必须能透明地使用其子类的对象。
- 解决的问题：为快速实现某个子类功能而违反这个原则，必然给系统埋下隐患，导致系统一旦出现问题会难以排查。

## 5 迪米特法则（Lod）

- 定义：Law of Demeter，最少知识法则，如果两个类不必彼此直接通信，那么这两个类就不应该发生直接的相互作用，可以通过第三方来转发调用。
- 强调的要点：
    1. 从被依赖者角度来说，只暴露应该暴露的方法或者属性
    2. 从依赖者角度来说，只依赖应该依赖的对象
  
## 6 接口隔离（ISP）

- 定义：Interface Segregation Principle，不应该强迫客户端实现一些它们不会使用的接口，使用多个专门的接口要比使用单个接口好很多。
- 主要观点：
    1. 一个类对另一个类的依赖性应当建立在最小的接口中
    2. 客户端程序不应该依赖它不需要的接口方法